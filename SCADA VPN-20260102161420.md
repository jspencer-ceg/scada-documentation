# SCADA VPN

## DNS

How does your computer resolve DNS addresses? It goes to the first network adapter in the service order and uses the DNS server that's set for it. If the adapter for the VPN is not first in the service order, your computer will not use it to look up DNS requests, even if it has a DNS server set for it.

Try going to a `cmd` and type `nslookup redacted:CEG fileshare URL` and see what you get. You will likely get a public IP address that doesn't have anything to do with CEG, because we don't actually own the [`cegengineers.com`](http://cegengineers.com) domain. Someone else does. The only place where we "own" it is on our private network, where we can use anything we want—it will only cause problems if it clashes with something out in the world. (We'd have problems if we used [`google.com`](http://google.com) as our AD domain.)

There are a few ways to get around this:
1. Create a `hosts` file that your computer can use to look up `redacted:CEG fileshare URL`, which is `redacted:IP`.
2. Set your service order so that the SCADA VPN adapter comes first.
3. Manually set the DNS server on your normal network adapter (e.g. wi-fi) to`redacted:CEG DNS IP`  so that all of your DNS requests get routed through the office's DNS server. (This is what I do. May not be the fastest way to do DNS lookups, but at least it's been reliable.)